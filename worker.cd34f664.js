parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"tMcB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorkerHelper=void 0;const e=r=>{if(r instanceof Error)return{message:r.message,stack:r.stack,name:r.name};if("object"!=typeof r)return r;{const s=JSON.stringify(r,(t,s)=>s==r?s:e(s));try{return JSON.parse(s)}catch(t){return console.error("could not parse:",s,"from",r),r}}};class r{constructor(e=self){this.worker=e,this.ready=this.expectType("ready"),this.readyState=!1,this.sendControl("ready"),this.ready.then(()=>this.readyState=!0)}async waitForAnyMessage(){return await this.ready,new Promise((e,r)=>{const t=e=>{if(!e.target)throw new Error("event.target is falsy");e.target.removeEventListener("message",s),e.target.removeEventListener("messageerror",a)},s=r=>{t(r),e(r.data)},a=e=>{t(e),r(e)};this.worker.addEventListener("message",s),this.worker.addEventListener("messageerror",a)})}async expectType(e){const r=await this.waitForAnyMessage();if(r.type!=e)throw new Error("received message with type "+r.type+" which was not expected, expected was "+e);return r}async waitForType(e){for(;;){const r=await this.waitForAnyMessage();if(r.type==e)return r}}sendMessage(r,t,s="normal"){if("control"!=s&&!this.readyState)throw new Error("you can not send a message till this.ready resolved");this.worker.postMessage({channel:s,type:r,payload:e(t),timestamp:Date.now()})}sendError(e,r){this.sendMessage(e,r,"error")}sendControl(e){this.sendMessage(e,void 0,"control")}}exports.WorkerHelper=r;
},{}],"pjYw":[function(require,module,exports) {
"use strict";function t(t,n,e){let r=void 0,o=void 0,l=void 0;for(let c=0;c<t.length;c++){const s=t[c],i=n(s,c);(0==c||e(i,l,c,r))&&(r=c,o=s,l=i)}return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBest=t,exports.getDistance=o,exports.getPathLength=s,exports.fisherYatesShuffle=i,exports.pathEqual=u,exports.switchRandomTwo=a,exports.turnTwoAround=f,exports.isPathBetter=g,exports.pathCompare=p,exports.shiftRandomRange=m,exports.shiftRange=x,exports.flipRandomSection=I,exports.flipSection=w,exports.clamp=b,exports.containsEdge=y;const{abs:n,pow:e,sqrt:r}=Math;function o(t,o){return r(e(n(t.x-o.x),2)+e(n(t.y-o.y),2))}const l=Symbol("lengthCache"),c=t=>l in t;function s(t){if(c(t))return t[l];if(t.length<=1)throw new Error("length can not be calculated for an path with one or non nodes");let n=0,e=t[0];for(let r=1;r<t.length;r++){const l=t[r];n+=o(e,l),e=l}return n+=o(t[0],e),Object.defineProperty(t,l,{value:n,configurable:!1,enumerable:!1}),n}function i(t,n){const e=Array.from(t);for(let r=0;r<e.length-2;r++){const t=n.randomInteger(r,e.length),o=e[r];e[r]=e[t],e[t]=o}return e}function u(t,n){if(t.length!=n.length)return!1;const e=n.indexOf(t[0]);for(let r=0;r<t.length;r++)if(t[r].name!=n[(e+r)%t.length].name)return!1;return!0}function h(t,n,e){const r=Array.from(t),o=r[n];return r[n]=r[e],r[e]=o,r}function a(t,n){const e=t.randomInteger(0,n.length);return h(n,e,t.randomIntegerExcept(0,n.length,e))}function f(t,n){const e=t.randomInteger(0,n.length);return h(n,e,(e+1)%n.length)}function g(t,n){return-1==p(t,n)}function p(t,n){const e=s(t)-s(n);return e<0?-1:e>0?1:0}const d=(t,n)=>Math.max((t-n)*t,n);function m(t,n){const e=t.randomInteger(0,n.length),r=t.randomInteger(1,n.length);return x(n,e,r,t.randomInteger(1,d(n.length,r)))}function x(t,n,e,r){const o=t.length;let l;r%=d(o,e);do{l=t.slice(0);const c=Math.min(r,o-e);for(let r=0;r<c;r++){let c=(n+r+e)%o;l[(n+r)%o]=t[c]}for(let r=0;r<e;r++){const e=(n+r)%o;l[(n+c+r)%o]=t[e]}n+=c,r-=c,t=l}while(r>0);return l}function I(t,n){return w(n,t.randomInteger(0,n.length),t.randomInteger(1,n.length))}function w(t,n,e){const r=t.slice(0);for(let o=0;o<Math.floor(e/2);o++){const l=(n+o)%t.length,c=(n+e-o-1)%t.length;r[l]=t[c],r[c]=t[l]}return r}function b(t,n,e=1/0){return t<n?n:t>e?e:t}function y(t,n,e){const r=t.indexOf(n);return t[(t.length+r-1)%t.length]==e||t[(r+1)%t.length]==e}
},{}],"BlS2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PRNG=void 0;const e=e=>Array.from(e).sort().filter((e,t,r)=>r.indexOf(e)==t);class t{constructor(e){e|=0,(e%=2**31-1)<=0&&(e+=2**31-2),this.seed=e}next(){return this.seed=48271*this.seed%(2**31-1)}nextFloat(){return(this.next()-1)/(2**31-2)}randomInteger(e,t,r=!1){return e=Math.ceil(e),t=Math.floor(t),Math.floor(this.nextFloat()*(t-e+r))+e}randomIntegerExceptUnordered(t,r,n,o=!1){this.randomIntegerExcept(t,r,e(n),o)}randomIntegerExcept(e,t,r,n=!1){"number"==typeof r&&(r=[r]),r.length;let o=this.randomInteger(e,t-r.length,n);for(const s of r){if(o<s)return o;o>=s&&o++}return o}}exports.PRNG=t;
},{}],"MnMT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PathCreator=void 0;var e=require("../prng");class s{constructor(s,t,r=new e.PRNG(574100223)){this.availableNodes=s,this.numberOfTries=t,this.prng=r,this.calls=[],this.setAvailableNodes(s)}setAvailableNodes(e){this.availableNodes=e}getAvailableNodes(){return this.availableNodes}countMinorStep(){const e=this.isAllowedToContinue();return this.calls[this.calls.length-1]++,e}minorSteps(){return this.calls[this.calls.length-1]}isAllowedToContinue(){return this.minorSteps()<this.numberOfTries}progress(){return this.calls.push(0),this.step()}next(){return this.isFinished()?{done:!0,value:void 0}:{done:!1,value:this.progress()}}[Symbol.iterator](){return this}}exports.PathCreator=s;
},{"../prng":"BlS2"}],"eBMD":[function(require,module,exports) {
"use strict";function e(e){const t={next:()=>e(),[Symbol.iterator]:()=>t};return t}function t(t,r){return e(()=>{const e=t.next(),n=e.done,o=e.value;return{done:n,value:n?void 0:r(o)}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.produceIteratorAndIterable=e,exports.extendIterable=t;
},{}],"ynTu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TSPEdgeMemory=void 0;var e=require("./iterator-helper");const t=e=>e*(e+1)*.5;class o{constructor(e,o=null,r){this.dimension=e,this.diagonalValue=o,this.memory=new Array(t(this.dimension-1)),this.memory.fill(r)}ensureCoordinate(e,t){if(!Number.isInteger(e))throw new TypeError(t+" needs to an integer");if(e<0)throw new RangeError(t+" needs to be equal or greater than 0");if(e>=this.dimension)throw new RangeError(t+" needs to be less than "+(this.dimension-1))}transformRCToIndex(e,o){this.ensureCoordinate(o,"row"),this.ensureCoordinate(e,"column");const r=o<e?o:e,n=e>o?e:o;return n==r?null:this.memory.length-t(n)+r}get(e,t){const o=this.transformRCToIndex(e,t);return null===o?this.diagonalValue:this.memory[o]}set(e,t,o){const r=this.transformRCToIndex(e,t);if(null===r)throw new RangeError("tried to set the diagonal value");return this.memory[r]=o}forEach(e,t=null){for(const o of this)e.call(t,o[0].column,o[0].row,o[1],this)}[Symbol.iterator](){let t=0,o=this.dimension-1;return(0,e.produceIteratorAndIterable)(()=>{const e=o<=0,r={done:e,value:e?void 0:[{row:o,column:t},this.get(t,o)]};return e||++t>=o&&(o--,t=0),r})}}class r{constructor(e){this.nodeMap=new Map,this.backing=new o(e.length);let t=0;for(const o of e)this.nodeMap.set(o,t++)}getNodeForId(e){for(const t of this.nodeMap)if(t[1]==e)return t[0];throw new RangeError("the id "+e+" is not used")}getIdForNode(e){if(!this.nodeMap.has(e))throw new RangeError("the node "+e+" is not registered with this TSPEdgeMemory");return this.nodeMap.get(e)}get(e,t){return this.backing.get(this.getIdForNode(e),this.getIdForNode(t))}set(e,t,o){return this.backing.set(this.getIdForNode(e),this.getIdForNode(t),o)}forEach(e,t=null){for(const o of this)e.call(t,o,this)}allConnectedNodes(t){const o=this.getIdForNode(t),r=this.nodeMap.size;let n=0;return(0,e.produceIteratorAndIterable)(()=>{n==o&&n++;const e=n>=r;return{done:e,value:e?void 0:this.getNodeForId(n++)}})}allEdgesTo(t){return(0,e.extendIterable)(this.allConnectedNodes(t),e=>({a:t,b:e,edgeInformation:this.get(t,e)}))}[Symbol.iterator](){const t=this.backing[Symbol.iterator]();return(0,e.extendIterable)(t,e=>({a:this.getNodeForId(e[0].row),b:this.getNodeForId(e[0].column),edgeInformation:e[1]}))}}exports.TSPEdgeMemory=r;
},{"./iterator-helper":"eBMD"}],"Kteg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AntColony=void 0;var e=require("../helper"),t=require("./path-creator"),o=require("../edge-memory");class r extends t.PathCreator{constructor(){super(...arguments),this.alpha=1,this.beta=1,this.evaporationRate=.4,this.fitScale=.2}setAvailableNodes(e){this.availableNodes=e,this.edgeInformations=new o.TSPEdgeMemory(e),this.numberOfAnts=e.length,this.initializeEdges()}initializeEdges(){this.edgeInformations.forEach(t=>{this.edgeInformations.set(t.a,t.b,{pheromone:this.prng.nextFloat(),heuristically:1/(0,e.getDistance)(t.a,t.b)})})}calculateProbability(e){return Math.pow(e.pheromone,this.alpha)*Math.pow(e.heuristically,this.beta)}calculateProbabilityForConnected(e,t=this.edgeInformations.allConnectedNodes(e)){const o=new Array;let r=0;for(const i of t){const t=this.calculateProbability(this.edgeInformations.get(e,i));o.push({other:i,probability:t}),r+=t}for(const i of o)i.probability/=r;return o}calculatePathWithAnt(e){const t=this.availableNodes.slice(0),o="number"==typeof e?e%t.length:t.indexOf(e);if(o<0)throw new Error("starting node not found");const r=t.splice(o,1);for(let i=1;i<this.availableNodes.length;i++){const e=this.prng.nextFloat();let o=0,a=void 0;for(const n of this.calculateProbabilityForConnected(r[i-1],t))if(o+=n.probability,a=n.other,o>=e)break;t.splice(t.indexOf(a),1),r.push(a)}return r}calculateNewPheromoneForEdge(t,o){let r=0;for(const i of o)(0,e.containsEdge)(i,t.a,t.b)&&(r+=1/(0,e.getPathLength)(i));return(1-this.evaporationRate)*t.edgeInformation.pheromone+this.evaporationRate*this.fitScale*r}updateEdgePheromone(e,t){e.edgeInformation.pheromone=this.calculateNewPheromoneForEdge(e,t)}step(){const t=new Array(this.numberOfAnts);for(let e=0;e<this.numberOfAnts;e++)t[e]=this.calculatePathWithAnt(e);for(const e of this.edgeInformations)this.updateEdgePheromone(e,t);return(0,e.getBest)(t,e.getPathLength,(e,t)=>e<t)}isFinished(){return!1}}exports.AntColony=r,r.processorName="ant colony";
},{"../helper":"pjYw","./path-creator":"MnMT","../edge-memory":"ynTu"}],"dvHQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSafeCombination=exports.checkParameter=exports.NumberHelper=exports.createHelper=void 0;const e=e=>{let r=!1;try{r=e(3)+e(-4)==e(-1)}catch(t){throw new Error("")}if(!r)throw new Error("could not use the provided creator since the result was wrong (tried 3 - 4 == -1)")},r=e=>Object.create(e.prototype)instanceof Object.getPrototypeOf(Int8Array).constructor,t=e=>Object.create(e.prototype)instanceof Array,o=(o,n)=>{e(o);const a=o(0),s=o(1),i=(e,r=s)=>{let t=s;for(;e>r;)t*=e--;return t},c=(e,r,t)=>i(r-s-e,r-t),u=t(n)||r(n)?(e,r)=>{const t=new n(r);for(let o=a;o<r;o++)t[o]=c(o,e,r);return t}:(e,r)=>{const t=new n;for(let o=a;o<r;o++)t.set(o,c(o,e,r));return t};return{faculty:i,getGroupLength:c,amountOfCombinations:(e,r)=>i(e,e-r),getGroupLengthDefinition:u}};exports.createHelper=o;const n=o(Number,Array);exports.NumberHelper=n;const a=(e,r,t)=>{if(!Number.isInteger(r))throw new TypeError(e+" needs to be an integer");if(r<=0)throw new RangeError(e+" was less or qual to zero");if(void 0===t||t>=53){if(!Number.isSafeInteger(r))throw new RangeError(e+" is not a safe integer (greater then 2^53 - 1)")}else if(r>2**t-1)throw new RangeError(e+" is greater than the amount of items an array can contain (2^"+t+"-1)")};exports.checkParameter=a;const s=(e,r)=>Number.isSafeInteger(n.amountOfCombinations(e,r));exports.isSafeCombination=s;
},{}],"cCZt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UniqueIndexCombination=void 0;var e=require("./unique-index-helper");const{amountOfCombinations:t,getGroupLengthDefinition:n}=e.NumberHelper;class r{constructor(r,i=r){if(this.currentIndex=0,(0,e.checkParameter)("letters",r),(0,e.checkParameter)("places",i,32),this.places=i,this.letters=r,this.groupLength=n(this.letters,this.places),this.maxCombinations=t(this.letters,this.places),!Number.isSafeInteger(this.maxCombinations))throw new RangeError("can not use UniqueIndexCombination for "+this.letters+" letters and "+this.places+" places, since letters! / (letters-places)! > Number.MAX_SAFE_INTEGER, consider unsing UniqueBigIndexCombination")}atIndex(e){if(e>=this.maxCombinations)return null;const t=this.places,n=new Array(t),r=new Array(t).fill(!1);for(let i=0;i<t;i++){let e=Math.floor(this.currentIndex/this.groupLength[i])%(this.letters-i);for(let n=0;n<t;n++)r[n]&&e>=n&&e++;r[e]=!0,n[i]=e}return n}next(){const e=this.atIndex(this.currentIndex);return null==e?{done:!0,value:void 0}:(this.currentIndex++,{done:!1,value:e})}[Symbol.iterator](){return this}}exports.UniqueIndexCombination=r;
},{"./unique-index-helper":"dvHQ"}],"SHxs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UniqueBigIndexCombination=exports.UniqueBigIndexCombinationMap=void 0;var e=require("./unique-index-helper");const{getGroupLengthDefinition:t,amountOfCombinations:n}=(0,e.createHelper)(BigInt,Map),i=BigInt(0);class r{constructor(e,r=e){this.currentIndex=i,this.letters=BigInt(e),this.places=BigInt(r),this.groupLength=t(this.letters,this.places),this.maxCombinations=n(this.letters,this.places)}atIndex(e){if(e>=this.maxCombinations||e<i)return null;const t=this.places,n=new Map,r=new Map;for(let s=i;s<t;s++){let o=e/this.groupLength.get(s)%(this.letters-s);for(let e=i;e<t;e++)r.has(e)&&o>=e&&o++;r.set(o,!0),n.set(s,o)}return n}next(){const e=this.atIndex(this.currentIndex);return null==e?{done:!0,value:void 0}:(this.currentIndex++,{done:!1,value:e})}[Symbol.iterator](){return this}}exports.UniqueBigIndexCombinationMap=r;class s{constructor(t,n){this.currentIndex=i,(0,e.checkParameter)("letters",t),(0,e.checkParameter)("places",n,32),this.places=n,this.letters=t,this.internalCombiner=new r(t,n)}atIndex(e){const t=this.internalCombiner.atIndex(BigInt(e));if(null==t)return null;const n=new Array(this.places);for(let i=0;i<this.places;i++)n[i]=Number(t.get(BigInt(i)));return n}next(){const e=this.atIndex(this.currentIndex);return null==e?{done:!0,value:void 0}:(this.currentIndex++,{done:!1,value:e})}[Symbol.iterator](){return this}}exports.UniqueBigIndexCombination=s;
},{"./unique-index-helper":"dvHQ"}],"APsG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UniqueItemCombination=exports.getUniqueIndexCombiner=void 0;var e=require("./unique-index-combiner"),n=require("./unique-big-index-combiner"),i=require("./unique-index-helper");const t=(t,o)=>(0,i.isSafeCombination)(t,o)?new e.UniqueIndexCombination(t,o):new n.UniqueBigIndexCombination(t,o);exports.getUniqueIndexCombiner=t;class o{constructor(e,n=e.length){this.items=e,this.combinationLength=n,this.indexCombiner=t(e.length,e.length)}next(){const e=this.indexCombiner.next();if(e.done)return{done:!0,value:void 0};{const n=this.combinationLength,i=new Array(n);for(let t=0;t<n;t++)i[t]=this.items[e.value[t]];return{done:!1,value:i}}}[Symbol.iterator](){return this}}exports.UniqueItemCombination=o;
},{"./unique-index-combiner":"cCZt","./unique-big-index-combiner":"SHxs","./unique-index-helper":"dvHQ"}],"yHL5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BruteForce=void 0;var t=require("./path-creator"),e=require("../helper"),s=require("../unique-item-combiner");class r extends t.PathCreator{constructor(t,e){super(t,e),this.allCombination=new s.UniqueItemCombination(this.availableNodes.slice(0)),this.done=!1}step(){if(!this.shortestPath)return this.shortestLength=(0,e.getPathLength)(this.shortestPath=this.availableNodes),this.shortestPath;for(const t of this.allCombination){if(!this.countMinorStep())break;let s=(0,e.getPathLength)(t);if(!this.shortestLength||s<this.shortestLength)return this.shortestLength=s,this.shortestPath=t,t}if(null==this.shortestPath)throw this.done=!0,new Error("there are no available combinations");return this.done=!0,this.shortestPath}isFinished(){return this.done}}exports.BruteForce=r,r.processorName="brute force";
},{"./path-creator":"MnMT","../helper":"pjYw","../unique-item-combiner":"APsG"}],"zSNJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.greatDeluge=exports.recordToRecord=exports.thresholdAccepting=exports.simulatedAnnealing2=exports.simulatedAnnealing1=exports.hillClimber=void 0;var t=require("./path-creator"),e=require("../helper"),n=require("../prng");class r{constructor(t,e){this.allowedTries=e,this.finishedFlag=!1,this.history=[],this.history.push(t)}findNext(){let t=this.allowedTries;const e=this.history[this.history.length-1];for(;t-- >0;){const t=this.step(e);if(this.accepting(this.history,t))return this.history.push(t),t}return this.finishedFlag=!0,e}finished(){return this.finishedFlag}}class s extends r{constructor(t,e,r=new n.PRNG(1e4)){super(t,e),this.prng=r}step(t){return(0,e.switchRandomTwo)(this.prng,t)}calculateFit(t){return(0,e.getPathLength)(t)}}class i extends s{constructor(t,e,n){super(e,n),this.accepting=t}}const h=(e,n)=>{var r;return(r=class extends t.PathCreator{setAvailableNodes(t){this.availableNodes=t,this.hillClimber=new i(n,t,this.numberOfTries)}step(){return this.hillClimber.findNext()}isFinished(){return this.hillClimber.finished()}}).processorName=e,r},o=h("hill climbing",function(t,n){const r=t[t.length-1];return(0,e.getPathLength)(r)>(0,e.getPathLength)(n)});exports.hillClimber=o;const l=h("simulated annealing 1",function(t,n){const r=this.prng,s=t.length,i=t[t.length-1],h=(0,e.getPathLength)(i)-(0,e.getPathLength)(n);if(h>0)return!0;{const t=.95**s,e=Math.pow(Math.E,-5e-11*-h/t);return r.nextFloat()<e}});exports.simulatedAnnealing1=l;const g=h("simulated annealing 2",function(t,n){const r=this.prng,s=t.length,i=t[t.length-1],h=(0,e.getPathLength)(i)-(0,e.getPathLength)(n);if(h>0)return!0;{const t=1/(1+(-h)**2+s**2);return r.nextFloat()<t}});exports.simulatedAnnealing2=g;const a=h("threshold accepting",function(t,n){const r=t.length,s=t[t.length-1],i=(0,e.getPathLength)(s)-(0,e.getPathLength)(n);return i>0||-i<5200*.99**r});exports.thresholdAccepting=a;const c=h("record to record",function(t,n){const r=t.length;t[t.length-1];let s=t[0];for(let h=1;h<t.length;h++)(0,e.getPathLength)(t[h])<(0,e.getPathLength)(s)&&(s=t[h]);const i=(0,e.getPathLength)(s)-(0,e.getPathLength)(n);return i>0||-i<5200*.99**r});exports.recordToRecord=c;const u=h("great deluge",function(t,n){return(0,e.getPathLength)(n)<1e5/(1+.05*t.length)});exports.greatDeluge=u;
},{"./path-creator":"MnMT","../helper":"pjYw","../prng":"BlS2"}],"d2xA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EvolutionaryAlgorithm=exports.sortBest=void 0;var t=require("../helper"),e=require("./path-creator");const o=(e,o)=>(0,t.pathCompare)(e.phenotype,o.phenotype),i=t=>Array.from(t).sort(o);exports.sortBest=i;const s=t=>{let e=t[0];for(let i=1;i<t.length;i++)1==o(e,t[i])&&(e=t[i]);return e};class r extends e.PathCreator{constructor(){super(...arguments),this.populationSize=10,this.childrenSize=(0,t.clamp)(Math.floor(.5*this.populationSize),1),this.mutationSize=1,this.population=null,this.finished=!1}step(){if(!this.lastBest)return this.lastBest=this.doGeneration();for(let e=0;e<this.numberOfTries;e++){const e=this.doGeneration();if((0,t.isPathBetter)(e,this.lastBest))return this.lastBest=e}return this.finished=!0,this.lastBest}isFinished(){return this.finished}doGeneration(){if(null==this.population)this.population=this.createInitialPopulation(this.availableNodes);else{const t=this.parentSelection(this.population),e=[];for(const i of t){const t=this.recombination(i),o=[];for(const e of t)o.push(this.mutate(e));e.push(o)}const o=this.combineToNewPopulation(t,e);this.population=this.environmentSelection(o)}return s(this.population).phenotype}combineToNewPopulation(t,e){return Array.prototype.concat.apply([],t.concat(e))}}exports.EvolutionaryAlgorithm=r;
},{"../helper":"pjYw","./path-creator":"MnMT"}],"qLjA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.recombineCopy=r,exports.selectRandomX=n,exports.selectRandomPairsOf=o,exports.selectBestX=s,exports.selectBestXPairs=l,exports.selectTournament=i,exports.recombineCrossXWMappingTSP=c,exports.recombineCrossXWMapping=f;var e=require("./path-creator/evolutionary-algorithm"),t=require("./helper");function r(e){const t=[];for(const r of e)t.push({phenotype:r.phenotype.slice(0)});return t}function n(e,r,n){return(0,t.fisherYatesShuffle)(e,n).slice(0,r)}function o(e,r,n,o){if(n*r>e.length)throw new RangeError("requested "+r+" with a length of "+n+" results in needed "+n*r+" elements but only"+e.length+" where given");const s=(0,t.fisherYatesShuffle)(e,o),l=new Array(r);for(let t=0;t<r;t++)l[t]=s.slice(t*n,(t+1)*n);return l}function s(t,r){return(0,e.sortBest)(t).slice(0,r)}function l(e,t){const r=s(e,2*t),n=new Array(t);for(let o=0;o<t;o++)n[o]=r.slice(2*o,2*o+2);return n}function i(e,r,n,o=(0,t.clamp)(.1*e.length,1,1/0),l=1,i=!1){o=Math.round(o);let c=[];for(e=(0,t.fisherYatesShuffle)(e,n);c.length<r;){const t=s(e.slice(0,o),l);c=c.concat(t),i||(e=e.filter(e=>!t.includes(e)))}return c}function c(e,t,r){return[{phenotype:f(e.phenotype,t.phenotype,r)}]}function f(e,t,r,n=((e,t)=>e==t)){let o=e.slice();const s=new Array(o.length).fill(!1);let l=!1;for(let i=0;i<o.length;i++)r.includes(i)&&(l=!l),l&&(o[i]=t[i],s[i]=!0);for(let i=0;i<o.length;i++){let r=!1;for(let e=0;e<i;e++)if(n(o[e],o[i])){r=!0;break}if(!r)continue;let l=o[i];const c=s[i]?t:e,f=s[i]?e:t;e:for(;;){let e;for(let t=0;t<o.length;t++)if(n(f[t],l)){e=t;break}l=c[e];for(let t=0;t<i;t++)if(n(o[t],l))continue e;break}o[i]=l}return o}
},{"./path-creator/evolutionary-algorithm":"d2xA","./helper":"pjYw"}],"zL5D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MoreComplexEAWTournament=exports.MoreComplexEAWRecomb=exports.MoreComplexEA=void 0;var e=require("./evolutionary-algorithm"),t=require("../helper"),r=require("../es-helper");class o extends e.EvolutionaryAlgorithm{createInitialPopulation(e){const r=new Array(this.populationSize);for(let o=0;o<this.populationSize;o++)r[o]={phenotype:(0,t.fisherYatesShuffle)(e,this.prng)};return r}chooseRandomMutate(){switch(this.prng.randomInteger(0,3)){case 0:return t.switchRandomTwo;case 1:return t.shiftRandomRange;case 2:return t.flipRandomSection}}mutate(e){let t=e.phenotype;for(let r=0;r<this.mutationSize;r++)t=this.chooseRandomMutate()(this.prng,t);return{phenotype:t}}}class n extends o{parentSelection(e){return(0,r.selectRandomX)(e,this.childrenSize,this.prng).map(e=>[e])}recombination(e){return(0,r.recombineCopy)(e)}environmentSelection(e){return(0,r.selectBestX)(e,this.populationSize)}}exports.MoreComplexEA=n,n.processorName="EA with select best";class s extends o{constructor(){super(...arguments),this.crossover=[1*this.availableNodes.length/3|0,2*this.availableNodes.length/3|0]}parentSelection(e){return(0,r.selectRandomPairsOf)(e,this.childrenSize,2,this.prng)}recombination(e){return(0,r.recombineCrossXWMappingTSP)(e[0],e[1],this.crossover)}environmentSelection(e){return(0,r.selectBestX)(e,this.populationSize)}}exports.MoreComplexEAWRecomb=s,s.processorName="EA with recombination";class i extends o{constructor(){super(...arguments),this.crossover=[1*this.availableNodes.length/3|0,2*this.availableNodes.length/3|0]}getCurrentTournamentSize(e=.05,r=this.populationSize){const o=1-1/(e*this.calls.length+1);return(0,t.clamp)(Math.floor(r*o),2,r)}parentSelection(e){return(0,r.selectBestXPairs)(e,this.childrenSize)}recombination(e){return(0,r.recombineCrossXWMappingTSP)(e[0],e[1],this.crossover)}environmentSelection(e){return(0,r.selectTournament)(e,this.populationSize,this.prng,this.getCurrentTournamentSize(),1)}}exports.MoreComplexEAWTournament=i,i.processorName="EA with tournament";
},{"./evolutionary-algorithm":"d2xA","../helper":"pjYw","../es-helper":"qLjA"}],"YGV6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleEA=void 0;var e=require("./evolutionary-algorithm"),t=require("../helper"),r=require("../es-helper");class i extends e.EvolutionaryAlgorithm{constructor(){super(...arguments),this.childrenSize=.75*this.populationSize|0}createInitialPopulation(e){const r=new Array(this.populationSize);for(let i=0;i<this.populationSize;i++)r[i]={phenotype:(0,t.fisherYatesShuffle)(e,this.prng)};return r}parentSelection(e){return(0,r.selectRandomX)(e,this.childrenSize,this.prng).map(e=>[e])}recombination(e){return(0,r.recombineCopy)(e)}mutate(e){return{phenotype:(0,t.turnTwoAround)(this.prng,e.phenotype)}}environmentSelection(e){return(0,r.selectBestX)(e,this.populationSize)}}exports.SimpleEA=i,i.processorName="EA simple";
},{"./evolutionary-algorithm":"d2xA","../helper":"pjYw","../es-helper":"qLjA"}],"rTIu":[function(require,module,exports) {
module.exports={"ant-colony":require("./ant-colony.ts"),"brute-force":require("./brute-force.ts"),"local-search":require("./local-search.ts"),"more-complex-ea":require("./more-complex-ea.ts"),"simple-ea":require("./simple-ea.ts")};
},{"./ant-colony.ts":"Kteg","./brute-force.ts":"yHL5","./local-search.ts":"zSNJ","./more-complex-ea.ts":"zL5D","./simple-ea.ts":"YGV6"}],"SFV5":[function(require,module,exports) {
"use strict";var e=require("./worker-helper"),r=o(require("./path-creator/{brute-force,local-search,simple-ea,more-complex-ea,ant-colony}.ts"));function o(e){return e&&e.__esModule?e:{default:e}}const s=new Map;for(const n of Object.values(r.default))for(const e of Object.values(n))if("function"==typeof e){if(s.has(e.processorName))throw new Error("processor "+e.processorName+"was already registered");s.set(e.processorName,e)}const t=e=>new Promise(r=>setTimeout(r,e)),a=new e.WorkerHelper;(async()=>{await a.ready;const e=await a.waitForType("create"),{creator:r,nodes:o,tries:t}=e.payload;if(!s.has(r))return void a.sendError("creator-not-found","creator "+r+", only loaded "+[...s.keys()].join(", "));console.debug("registered: "+JSON.stringify(Array.from(s.keys()))+" and starting: "+r);const n=new(s.get(r))(o,t);for(const s of n)a.sendMessage("progressed",s);a.sendMessage("finished")})().catch(e=>a.sendError("uncaught-error",e));
},{"./worker-helper":"tMcB","./path-creator/{brute-force,local-search,simple-ea,more-complex-ea,ant-colony}.ts":"rTIu"}]},{},["SFV5"], null)